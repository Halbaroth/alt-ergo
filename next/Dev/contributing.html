<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="About" href="../About/index.html" /><link rel="prev" title="Project Architecture" href="architecture.html" />

    <!-- Generated with Sphinx 7.1.2 and Furo 2024.08.06 -->
        <title>Contributing - Alt-Ergo documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="../_static/css/versions.css?v=21adeb6f" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Alt-Ergo  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Alt-Ergo  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Install/index.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Usage/index.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SMT-LIB_language/index.html">SMT-LIB language</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Alt_ergo_native/index.html">Alt-Ergo's native language</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Alt-Ergo's native language</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Alt_ergo_native/00_summary.html"> Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Alt_ergo_native/01_declaration_of_symbols.html"> Declaration of symbols</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Alt_ergo_native/02_types/index.html"> Types</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of  Types</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Alt_ergo_native/02_types/02_01_builtin.html">Built-in types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Alt_ergo_native/02_types/02_01_builtin.html#built-in-operators">Built-in operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Alt_ergo_native/02_types/02_02_user_defined.html"> User-defined</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Alt_ergo_native/03_declaration_of_axioms.html"> Declaration of axioms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Alt_ergo_native/04_setting_goals.html"> Setting goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Alt_ergo_native/05_theories.html"> Theories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Alt_ergo_native/06_control_flow.html"> Control Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Alt_ergo_native/07_syntax_of_declarations_and_expressions.html"> Syntax of declarations and expressions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Model_generation.html">Model generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../API/index.html">API documentation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Plugins/index.html">Plugins</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Plugins</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Plugins/ab_why3.html">What is this plugin ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Plugins/ab_why3.html#what-this-plugin-is-not">What this plugin is not ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Plugins/ab_why3.html#how-to-use-it">How to use it ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Plugins/ab_why3.html#licensing">Licensing</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Developer's documentation</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Developer's documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="architecture.html">Project Architecture</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Contributing guidelines</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../About/index.html">About</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of About</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../About/license.html">Licenses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../About/changes.html">Changes</a></li>
<li class="toctree-l2"><a class="reference external" href="https://alt-ergo.ocamlpro.com/try.html">Try-Alt-Ergo</a></li>
<li class="toctree-l2"><a class="reference external" href="https://alt-ergo.ocamlpro.com/">Alt-Ergo's website</a></li>
<li class="toctree-l2"><a class="reference external" href="https://alt-ergo.ocamlpro.com/#publications">Scientific publications</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          

<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="contributing">
<h1>Contributing<a class="headerlink" href="#contributing" title="Permalink to this heading">¶</a></h1>
<section id="foreword">
<h2>Foreword<a class="headerlink" href="#foreword" title="Permalink to this heading">¶</a></h2>
<p>This guide is intended to as best as possible reflect the current state of the processes and tools used in the development of Alt-Ergo. It may get stale or outdated from time to time: if you notice anything incorrect or that otherwise no longer applies in this guide, please signal it in an issue or fix it in a pull request. If you find it unclear or imprecise on certain points, please open an issue as well so that we can try to make it better.</p>
</section>
<section id="pull-request-guidelines">
<h2>Pull Request Guidelines<a class="headerlink" href="#pull-request-guidelines" title="Permalink to this heading">¶</a></h2>
<p>External contributions to Alt-Ergo may be proposed using git’s standard pull request mechanism from your <code class="docutils literal notranslate"><span class="pre">base</span></code> branch to our <code class="docutils literal notranslate"><span class="pre">target</span></code> one ( <code class="docutils literal notranslate"><span class="pre">next</span></code> by default).
The following terms apply to all such contributions:</p>
<ul>
<li><p>We require all pull requests to pass :</p>
<ul class="simple">
<li><p>Our non regression suite, you can run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">runtest</span></code> to check if your changes affect the performance and answers of Alt-Ergo.</p></li>
<li><p>Our style checking, every lines should length 80 columns maximum and should be indent with ocp-indent.
We strongly recommand to use the following command line so the indent and style checking will be done automatically when commiting.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">cp</span> <span class="pre">rsc/extra/pre-commit-git-hook</span> <span class="pre">.git/hooks/pre-commit</span></code></p>
</li>
<li><p>Pull request should be rebased and up to date from the <code class="docutils literal notranslate"><span class="pre">base</span></code> branch to be merged.</p></li>
<li><p>All commits will be squashed into one when merged into the <code class="docutils literal notranslate"><span class="pre">base</span></code> branch. A PR with only one commit is appreciated if the modification are minimal. Else, we ask for a clean commit history with relevant messages since it facilitates the review.</p></li>
</ul>
</section>
<section id="legal-guidelines">
<h2>Legal Guidelines<a class="headerlink" href="#legal-guidelines" title="Permalink to this heading">¶</a></h2>
<p>In addition to agreeing to the terms of the Alt-Ergo’s <a class="reference internal" href="../About/license.html"><span class="doc std std-doc">License</span></a>, we ask our contributors to sign the <a class="reference external" href="https://www.ocamlpro.com/files/CLA-OCamlPro-corporate.txt">Contributor License Agreement (CLA)</a>.</p>
</section>
<section id="develop-with-nix">
<h2>Develop with Nix<a class="headerlink" href="#develop-with-nix" title="Permalink to this heading">¶</a></h2>
<p>If you are using nix, you can get a development shell for Alt-Ergo using:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>nix-shell
</pre></div>
</div>
<p>To build and run a development version of alt-ergo you can use (this requires
the <a class="reference external" href="https://nixos.wiki/wiki/Nix_command">experimental <code class="docutils literal notranslate"><span class="pre">nix</span></code> command</a>):</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>nix<span class="w"> </span>run<span class="w"> </span>-f<span class="w"> </span>.<span class="w"> </span>alt-ergo
</pre></div>
</div>
<p>Or directly from GitHub:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>nix<span class="w"> </span>run<span class="w"> </span>-f<span class="w"> </span>https://github.com/OCamlPro/alt-ergo/archive/master.tar.gz#alt-ergo<span class="w"> </span>alt-ergo
</pre></div>
</div>
</section>
<section id="release-process">
<h2>Release Process<a class="headerlink" href="#release-process" title="Permalink to this heading">¶</a></h2>
<p>Alt-Ergo releases do not have a fixed schedule and are made based on features. We try to maintain the main branch (<code class="docutils literal notranslate"><span class="pre">next</span></code>) of the repository as stable as possible, and cut a release from there when an important feature is complete. We also make point release to fix important bugs.</p>
<p>Once we decide to make a release, a release manager (RM) is nominated amongst the core developers. The release manager creates a new <code class="docutils literal notranslate"><span class="pre">X.Y.Z</span></code> branch for the release from the current <code class="docutils literal notranslate"><span class="pre">next</span></code>, marking the beginning of a feature freeze for the release: new features may continue to get merged on <code class="docutils literal notranslate"><span class="pre">next</span></code>, but will not be included in that release. <strong>The RM is the only person allowed to merge PRs or otherwise make changes on the release branch.</strong></p>
<p>Changes are never introduced directly into the release branch (with some exceptions below): after branching, any change that goes into the release branch must be backported from a corresponding change on <code class="docutils literal notranslate"><span class="pre">next</span></code>. It must be mentioned in the pull request that there is a desire to backport the change to the current release. It is then up to the RM to decide whether to include that change in the release or not, and they must only do so <em>after the original change has been merged into <code class="docutils literal notranslate"><span class="pre">next</span></code></em>. This ensures that there are never features that make it to a release branch but not to <code class="docutils literal notranslate"><span class="pre">next</span></code>.</p>
<p>Specific changes that are only relevant for a specific release can result in a PR targeting the release branch directly. In this case, only the RM is allowed to merge the PR onto the release branch, even if they are the PR’s author. Such PRs are typically either bug fixes for features that are removed or significantly changed on <code class="docutils literal notranslate"><span class="pre">next</span></code> (very rare!), and PRs to change the version number in preparation for the release.</p>
<p>The rest of this section is intended for the release manager, and describes the tasks associated with a release.</p>
<section id="make-a-pr-for-the-release">
<h3>Make a PR for the release<a class="headerlink" href="#make-a-pr-for-the-release" title="Permalink to this heading">¶</a></h3>
<p>This is the first step, and should be taken only once <code class="docutils literal notranslate"><span class="pre">next</span></code> is feature complete for the release to minimise churn. The RM makes a PR on <code class="docutils literal notranslate"><span class="pre">next</span></code> to initiate the release. The PR must introduce a new section in <code class="docutils literal notranslate"><span class="pre">CHANGES.md</span></code> with the new version number.</p>
<p>This PR should ideally only modify <code class="docutils literal notranslate"><span class="pre">CHANGES.md</span></code>, and involves moving items from the <code class="docutils literal notranslate"><span class="pre">unreleased</span></code> section to a new section including the new release number (but no release date yet).</p>
<p>Once the PR is merged, the RM creates a new branch called <code class="docutils literal notranslate"><span class="pre">X.Y.x</span></code>; for instance, the release branch for version <code class="docutils literal notranslate"><span class="pre">2.5.0</span></code> will be called <code class="docutils literal notranslate"><span class="pre">v2.5.x</span></code>. The branch must target the merge commit.</p>
</section>
<section id="update-documentation">
<h3>Update documentation<a class="headerlink" href="#update-documentation" title="Permalink to this heading">¶</a></h3>
<p>The merging of the release PR marks the definitive set of features that are included in the release. The RM makes sure that the relevant features are properly documented; changes to the documentation must be done on the <code class="docutils literal notranslate"><span class="pre">next</span></code> branch then backported to the release branch (the RM is encouraged to collaborate with the developer of a specific feature for help in documenting it). This includes updating the release notes appropriately.</p>
</section>
<section id="run-benchmarks">
<h3>Run benchmarks<a class="headerlink" href="#run-benchmarks" title="Permalink to this heading">¶</a></h3>
<p>Once the release branch has been confirmed, the RM runs some benchmarks to compare the state of the release branch against the last released version. These benchmarks are stored on an internal OCamlPro machine. The following benchmarks should be run (note: the Zulip bot can help):</p>
<ul class="simple">
<li><p>ae-format benchmarks (internal dataset in the native format)</p></li>
<li><p>ae-format-fpa benchmarks (internal dataset in the native format, using the floating-point theories)</p></li>
<li><p>benchtop-tests benchmarks (smtcomp subset)</p></li>
</ul>
<p>If regressions are found, they must be first confirmed by checking that they are still present in a different environment, to ensure they are not spurious regressions due to the weak table. The simplest way to do it is to compile with a different version of OCaml (this is what the Zulip bot does). See https://github.com/OCamlPro/alt-ergo/issues/563 for details on the weak table issue.</p>
<p>Confirmed regressions must be investigated to understand their cause. For each cause of regressions, an issue (the granularity of the issues are at the discretion of the RM) must be created to document the cause of the regression. The RM then decides whether the regression must be fixed for the release or not (this is a case-by-case process, but as a general guideline, regressions should be fixed unless the source of the regression is also the source of at least a comparable amount of improvements).</p>
<p>Fixes for the regressions must be made in PRs to the <code class="docutils literal notranslate"><span class="pre">next</span></code> branch that are then back-ported to the release branch, as described above.</p>
</section>
<section id="prepare-an-announcement">
<h3>Prepare an announcement<a class="headerlink" href="#prepare-an-announcement" title="Permalink to this heading">¶</a></h3>
<p>Once the release is ready and all the tests and benchmarks pass, the last step before making the release proper is to write an announcement for the release. The announcement will be posted on the OCamlPro blog, on the mailing list, and on the OCaml Discourse. It should highlight the new features and major bug fixes in the release, and is written by the RM in collaboration with the other developers.</p>
</section>
<section id="make-the-release">
<h3>Make the release<a class="headerlink" href="#make-the-release" title="Permalink to this heading">¶</a></h3>
<p>The release is made using <code class="docutils literal notranslate"><span class="pre">dune-release</span></code>, and follows standard procedure for the tool. Check the output of <code class="docutils literal notranslate"><span class="pre">dune-release</span> <span class="pre">help</span> <span class="pre">release</span></code>, but essentially:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dune-release</span> <span class="pre">check</span></code> (performs basic check)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dune-release</span> <span class="pre">tag</span> <span class="pre">vX.Y.Z</span></code> (replace <code class="docutils literal notranslate"><span class="pre">X</span></code>, <code class="docutils literal notranslate"><span class="pre">Y</span></code> and <code class="docutils literal notranslate"><span class="pre">Z</span></code> as appropriate; this creates a git tag – you may add alphas, betas, or rc)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dune-release</span> <span class="pre">distrib</span></code> (this creates the distribution archive)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dune-release</span> <span class="pre">publish</span> <span class="pre">distrib</span></code> (this is irreversible: it publishes the release on GitHub)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dune-release</span> <span class="pre">opam</span> <span class="pre">pkg</span></code> (this an archive with the opam stuff)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dune-release</span> <span class="pre">opam</span> <span class="pre">submit</span></code> (this opens a MR on the opam repository)</p></li>
</ul>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../About/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">About</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="architecture.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Project Architecture</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2020 - 2023, Alt-Ergo developers
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Contributing</a><ul>
<li><a class="reference internal" href="#foreword">Foreword</a></li>
<li><a class="reference internal" href="#pull-request-guidelines">Pull Request Guidelines</a></li>
<li><a class="reference internal" href="#legal-guidelines">Legal Guidelines</a></li>
<li><a class="reference internal" href="#develop-with-nix">Develop with Nix</a></li>
<li><a class="reference internal" href="#release-process">Release Process</a><ul>
<li><a class="reference internal" href="#make-a-pr-for-the-release">Make a PR for the release</a></li>
<li><a class="reference internal" href="#update-documentation">Update documentation</a></li>
<li><a class="reference internal" href="#run-benchmarks">Run benchmarks</a></li>
<li><a class="reference internal" href="#prepare-an-announcement">Prepare an announcement</a></li>
<li><a class="reference internal" href="#make-the-release">Make the release</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/js/versions.js?v=40211404"></script>
    </body>
</html>
<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Control flow" href="06_control_flow.html" /><link rel="prev" title="Setting goals" href="04_setting_goals.html" />

    <!-- Generated with Sphinx 7.1.2 and Furo 2024.08.06 -->
        <title>Theories - Alt-Ergo documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="../_static/css/versions.css?v=21adeb6f" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Alt-Ergo  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Alt-Ergo  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Install/index.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Usage/index.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SMT-LIB_language/index.html">SMT-LIB language</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Alt-Ergo's native language</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Alt-Ergo's native language</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="00_summary.html"> Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="01_declaration_of_symbols.html"> Declaration of symbols</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="02_types/index.html"> Types</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of  Types</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="02_types/02_01_builtin.html">Built-in types</a></li>
<li class="toctree-l3"><a class="reference internal" href="02_types/02_01_builtin.html#built-in-operators">Built-in operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="02_types/02_02_user_defined.html"> User-defined</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="03_declaration_of_axioms.html"> Declaration of axioms</a></li>
<li class="toctree-l2"><a class="reference internal" href="04_setting_goals.html"> Setting goals</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#"> Theories</a></li>
<li class="toctree-l2"><a class="reference internal" href="06_control_flow.html"> Control Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="07_syntax_of_declarations_and_expressions.html"> Syntax of declarations and expressions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Model_generation.html">Model generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../API/index.html">API documentation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Plugins/index.html">Plugins</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Plugins</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Plugins/ab_why3.html">What is this plugin ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Plugins/ab_why3.html#what-this-plugin-is-not">What this plugin is not ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Plugins/ab_why3.html#how-to-use-it">How to use it ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Plugins/ab_why3.html#licensing">Licensing</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Dev/index.html">Developer's documentation</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Developer's documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Dev/architecture.html">Project Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Dev/contributing.html">Contributing guidelines</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../About/index.html">About</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of About</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../About/license.html">Licenses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../About/changes.html">Changes</a></li>
<li class="toctree-l2"><a class="reference external" href="https://alt-ergo.ocamlpro.com/try.html">Try-Alt-Ergo</a></li>
<li class="toctree-l2"><a class="reference external" href="https://alt-ergo.ocamlpro.com/">Alt-Ergo's website</a></li>
<li class="toctree-l2"><a class="reference external" href="https://alt-ergo.ocamlpro.com/#publications">Scientific publications</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          

<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="theories">
<h1>Theories<a class="headerlink" href="#theories" title="Permalink to this heading">¶</a></h1>
<p>Alt-Ergo has built-in support for many different theories.</p>
<p>Those theories allow to reason about values of various types. To learn more about the syntax and semantic of those types, as well as operators defined on them, please refer to section <a class="reference internal" href="02_types/index.html"><span class="doc std std-doc">Types</span></a>.</p>
<section id="native-theories">
<h2>Native theories<a class="headerlink" href="#native-theories" title="Permalink to this heading">¶</a></h2>
<p>Alt-Ergo works using a polymorphic first-order logic.
A precise definition of what is meant here by ‘theory’ can be found in the second chapter of <a class="reference external" href="https://tel.archives-ouvertes.fr/file/index/docid/842555/filename/VD2_IGUERNELALA_MOHAMED_10062013.pdf">this thesis</a>.</p>
<p>Alt-Ergo currently provides built-in support for the following theories.</p>
<ul class="simple">
<li><p>The free theory of equality with uninterpreted symbols</p></li>
<li><p>Associative and commutative (AC) symbols</p></li>
<li><p>Linear arithmetic over integers and rationals</p></li>
<li><p>(Fragment of) non-linear arithmetic</p></li>
<li><p>Floating-point arithmetic (as an extension)</p></li>
<li><p>Enumerated datatypes</p></li>
<li><p>Record datatypes</p></li>
<li><p>Polymorphic functional arrays</p></li>
<li><p>Fixed-size bitvectors</p></li>
</ul>
<p>Theories that can be built upon in user-defined extensions are named in the following way.
All theories are always considered <em>modulo equality</em>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SUM</span></code>: Enumerated datatypes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Adt</span></code>: Algebraic datatypes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Arrays</span></code>: Polymorphic functional arrays</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Records</span></code>: Record datatypes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Bitv</span></code>: Fixed-size bitvectors</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LIA</span></code>: Linear arithmetic over integers</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LRA</span></code>: Linear arithmetic over rationals</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NIA</span></code>: Non-linear arithmetic over integers</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NRA</span></code>: Non-linear arithmetic over rationals</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FPA</span></code>: Floating-point arithmetic</p></li>
</ul>
</section>
<section id="floating-point-arithmetic">
<h2>Floating-point Arithmetic<a class="headerlink" href="#floating-point-arithmetic" title="Permalink to this heading">¶</a></h2>
<p>Alt-Ergo implements partial support for floating-point arithmetic. More
precisely, Alt-Ergo implements the second and third layers from the paper “<a class="reference external" href="https://inria.hal.science/hal-01522770">A
Three-tier Strategy for Reasoning about Floating-Point Numbers in
SMT</a>” by Conchon et al.</p>
<p><em>Note</em>: Support for floating-point arithmetic is enabled by default in Alt-Ergo since version 2.6.0.</p>
<p>Versions 2.5.x required to use the command line flag <code class="docutils literal notranslate"><span class="pre">--enable-theory</span> <span class="pre">fpa</span></code> and previous versions used the external prelude mechanism and required command line flags <code class="docutils literal notranslate"><span class="pre">--use-fpa</span></code> and <code class="docutils literal notranslate"><span class="pre">--prelude</span> <span class="pre">fpa-theory-2019-10-08-19h00.ae</span></code>.</p>
<p>This means that Alt-Ergo doesn’t actually support a floating-point type (that
may come in a future release); instead, it supports a rounding function, as
described in the paper.  The rounding function transforms a real into the
nearest representable float, according to the standard floating-point rounding
modes. Unlike actual floats, there are no NaNs or infinites, and there is no
overflow (but there is underflow): one way to think about the underlying data
type is as floats with a potentially infinite exponent.</p>
<p>NaNs, infinites, and overflows must be handled outside of Alt-Ergo by an
implementation of the three-tier strategy described in the paper (this is done
automatically in Why3 when you use floats).</p>
<p>The rounding function is available as a builtin function called <code class="docutils literal notranslate"><span class="pre">float</span></code>:</p>
<div class="highlight-alt-ergo notranslate"><div class="highlight"><pre><span></span><span class="k">type</span> <span class="n">fpa_rounding_mode</span> <span class="o">=</span>
  <span class="err">|</span> <span class="n">NearestTiesToEven</span>
    <span class="c">(** To nearest, tie breaking to even mantissa *)</span>
  <span class="err">|</span> <span class="n">ToZero</span>
    <span class="c">(** Round toward zero *)</span>
  <span class="err">|</span> <span class="n">Up</span>
    <span class="c">(** Round toward plus infinity *)</span>
  <span class="err">|</span> <span class="n">Down</span>
    <span class="c">(** Round toward minus infinity *)</span>
  <span class="err">|</span> <span class="n">NearestTiesToAway</span>
    <span class="c">(** To nearest, tie breaking away from zero *)</span>

<span class="c">(** The first int [prec] is the mantissa&#39;s size, including the implicit bit.</span>

<span class="c">    The second int [exp] is the absolute value of the exponent of the smallest</span>
<span class="c">    representable positive number. Note that this is not the `emin` value</span>
<span class="c">    defined in IEEE-754, which represents the minimum exponent of the smallest</span>
<span class="c">    normal positive number.</span>

<span class="c">    The result of a call to [float(prec, exp, rm, x)] is always of the form:</span>

<span class="c">      (-1)^s * c * 2^q</span>

<span class="c">    where [s] is [0] or [1], [c] is an integer with at most [prec - 1] binary</span>
<span class="c">    digits (that is, [0 &lt;= c &lt; 2^(prec - 1)]), and [q &gt;= exp] is an integer.</span>

<span class="c">    Given `eb` the number of bits of the exponent and `sb` the number of bits</span>
<span class="c">    of the significand (including the hidden bit), `prec` and `exp` are</span>
<span class="c">    computed as follows:</span>

<span class="c">      prec = sb</span>
<span class="c">      exp = (1 lsl (eb - 1)) + sb - 3 *)</span>
<span class="k">logic</span> <span class="n">float</span><span class="o">:</span> <span class="kt">int</span><span class="o">,</span> <span class="kt">int</span><span class="o">,</span> <span class="n">fpa_rounding_mode</span><span class="o">,</span> <span class="kt">real</span> <span class="o">-&gt;</span> <span class="kt">real</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">float</span></code> function <em>must</em> be called with concrete values for its first 3
arguments, using other symbolic expressions is not supported and will result in
an error (defining functions that call <code class="docutils literal notranslate"><span class="pre">float</span></code> is also possible, as long as the
corresponding arguments of the wrapping function are only called with concrete
values).</p>
<p>Alt-Ergo also exposes convenience functions specialized for standard
floating-point types:</p>
<div class="highlight-alt-ergo notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="n">float32</span><span class="o">(</span><span class="n">m</span><span class="o">:</span> <span class="n">fpa_rounding_mode</span><span class="o">,</span> <span class="n">x</span><span class="o">:</span> <span class="kt">real</span><span class="o">):</span> <span class="kt">real</span> <span class="o">=</span> <span class="n">float</span><span class="o">(</span><span class="mi">24</span><span class="o">,</span> <span class="mi">149</span><span class="o">,</span> <span class="n">m</span><span class="o">,</span> <span class="n">x</span><span class="o">)</span>
<span class="k">function</span> <span class="n">float32d</span><span class="o">(</span><span class="n">x</span><span class="o">:</span> <span class="kt">real</span><span class="o">):</span> <span class="kt">real</span> <span class="o">=</span> <span class="n">float32</span><span class="o">(</span><span class="n">NearestTiesToEven</span><span class="o">,</span> <span class="n">x</span><span class="o">)</span>
<span class="k">function</span> <span class="n">float64</span><span class="o">(</span><span class="n">m</span><span class="o">:</span> <span class="n">fpa_rounding_mode</span><span class="o">,</span> <span class="n">x</span><span class="o">:</span> <span class="kt">real</span><span class="o">):</span> <span class="kt">real</span> <span class="o">=</span> <span class="n">float</span><span class="o">(</span><span class="mi">53</span><span class="o">,</span> <span class="mi">1074</span><span class="o">,</span> <span class="n">m</span><span class="o">,</span> <span class="n">x</span><span class="o">)</span>
<span class="k">function</span> <span class="n">float64d</span><span class="o">(</span><span class="n">x</span><span class="o">:</span> <span class="kt">real</span><span class="o">):</span> <span class="kt">real</span> <span class="o">=</span> <span class="n">float64</span><span class="o">(</span><span class="n">NearestTiesToEven</span><span class="o">,</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
</div>
<p>These functions are currently only available when using the native language;
they are not available when using the smtlib2 input format.</p>
<p>Finally, the <code class="docutils literal notranslate"><span class="pre">integer_round</span></code> function allows rounding a real to an integer
using the aforementioned rounding modes:</p>
<div class="highlight-alt-ergo notranslate"><div class="highlight"><pre><span></span><span class="k">logic</span> <span class="n">integer_round</span> <span class="o">:</span> <span class="n">fpa_rounding_mode</span><span class="o">,</span> <span class="kt">real</span> <span class="o">-&gt;</span> <span class="kt">int</span>
</pre></div>
</div>
<p>Here is an example:</p>
<div class="highlight-alt-ergo notranslate"><div class="highlight"><pre><span></span><span class="k">goal</span> <span class="n">g</span><span class="o">:</span> <span class="n">integer_round</span><span class="o">(</span><span class="n">ToZero</span><span class="o">,</span> <span class="mi">2</span><span class="o">.</span><span class="mi">1</span><span class="o">)</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</div>
</section>
<section id="user-defined-extensions-of-theories">
<h2>User-defined extensions of theories<a class="headerlink" href="#user-defined-extensions-of-theories" title="Permalink to this heading">¶</a></h2>
<p>[TODO: document]</p>
<section id="theory-extends-end">
<h3><code class="docutils literal notranslate"><span class="pre">theory</span> <span class="pre">[...]</span> <span class="pre">extends</span> <span class="pre">[...]</span> <span class="pre">=</span> <span class="pre">[...]</span> <span class="pre">end</span></code><a class="headerlink" href="#theory-extends-end" title="Permalink to this heading">¶</a></h3>
</section>
<section id="case-split">
<h3><code class="docutils literal notranslate"><span class="pre">case_split</span></code><a class="headerlink" href="#case-split" title="Permalink to this heading">¶</a></h3>
</section>
<section id="semantic-triggers">
<h3>Semantic triggers<a class="headerlink" href="#semantic-triggers" title="Permalink to this heading">¶</a></h3>
<p>In addition to syntactic triggers (or triggers) and interval triggers (or filters) defined in <a class="reference internal" href="03_declaration_of_axioms.html"><span class="std std-doc">axioms</span></a>, additional triggers are available inside theories.
Those additional triggers are called semantic triggers.</p>
<p>They correspond to the following constructs.</p>
<section id="syntax">
<h4>Syntax<a class="headerlink" href="#syntax" title="Permalink to this heading">¶</a></h4>
<div class="highlight-alt-ergo notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">semantic_trigger</span><span class="o">&gt;</span>    <span class="o">::=</span> <span class="o">&lt;</span><span class="n">in_interval_trigger</span><span class="o">&gt;</span> <span class="err">|</span> <span class="o">&lt;</span><span class="n">maps_to_trigger</span><span class="o">&gt;</span>
<span class="c">(* [COMMENT/TODO: seems to always be paired with &#39;interval triggers&#39;/filters *)</span>
<span class="o">&lt;</span><span class="n">in_interval_trigger</span><span class="o">&gt;</span> <span class="o">::=</span> <span class="o">&lt;</span><span class="n">id</span><span class="o">&gt;</span> <span class="k">&#39;</span><span class="ow">in</span><span class="k">&#39;</span> <span class="o">&lt;</span><span class="n">square_bracket</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">bound</span><span class="o">&gt;</span> <span class="k">&#39;</span><span class="o">,</span><span class="k">&#39;</span> <span class="o">&lt;</span><span class="n">bound</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">square_bracket</span><span class="o">&gt;</span>
<span class="c">(* [COMMENT/TODO: probably there to shorten axioms] *)</span>
<span class="o">&lt;</span><span class="n">maps_to_trigger</span><span class="o">&gt;</span>     <span class="o">::=</span> <span class="o">&lt;</span><span class="n">alias_id</span><span class="o">&gt;</span> <span class="k">&#39;</span><span class="o">|-&gt;</span><span class="k">&#39;</span> <span class="o">&lt;</span><span class="n">expr</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>[TODO: complete this explanation]</p>
</section>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="06_control_flow.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Control flow</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="04_setting_goals.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Setting goals</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2020 - 2023, Alt-Ergo developers
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Theories</a><ul>
<li><a class="reference internal" href="#native-theories">Native theories</a></li>
<li><a class="reference internal" href="#floating-point-arithmetic">Floating-point Arithmetic</a></li>
<li><a class="reference internal" href="#user-defined-extensions-of-theories">User-defined extensions of theories</a><ul>
<li><a class="reference internal" href="#theory-extends-end"><code class="docutils literal notranslate"><span class="pre">theory</span> <span class="pre">[...]</span> <span class="pre">extends</span> <span class="pre">[...]</span> <span class="pre">=</span> <span class="pre">[...]</span> <span class="pre">end</span></code></a></li>
<li><a class="reference internal" href="#case-split"><code class="docutils literal notranslate"><span class="pre">case_split</span></code></a></li>
<li><a class="reference internal" href="#semantic-triggers">Semantic triggers</a><ul>
<li><a class="reference internal" href="#syntax">Syntax</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/js/versions.js?v=40211404"></script>
    </body>
</html>